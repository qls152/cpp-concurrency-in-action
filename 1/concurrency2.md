
# 引言

本部分是总结并发相关概念的第二部分, 该部分主要由如下部分构成

1. 并发与并行的区别

2. 为什么使用并发

3. 什么时候使用并发(什么时候不使用并发)

# 并发与并行

**并发**在操作系统和数据库社区中广泛用于描述逻辑上同时执行的执行;

架构和超级计算社区通常使用**并行**来描述物理上同时执行的执行。

在任一情况下，同时执行的代码表现出未知的时序特性。

例如，一个操作系统可能一次只执行一个代码段，但由于执行可以在任何时间点上下文切换到另一个代码段，就好像它们在物理上同时执行一样。类似地，对于物理并行性，代码段之间的时序关系也是不可预测的，假设任何时序都是可能的。因此，并发和并行计算的程序正确性问题是相同的。

一般情况下两者可以互换使用！

# 为什么使用并发

使用并发主要由以下两个原因

1. 关注点分离

2. 性能

所谓关注点分离：便是将代码相关部分和不相关的部分分离的点。

个人理解：其实就是划分集合至两个互补集合的条件。

为了取得性能提升，通常采用**任务并行或者数据并行**。

# 什么时候使用并发(什么时候不使用并发)

从根本上说，**不使用并发的唯一原因是收益与付出不成正比**。 

使用并发的缺点：

1. 并发的代码更难理解，因此编写和维护多线程代码会产生直接的智力成本

2. 额外的复杂性也会导致更多的错误。

除非潜在的性能提升足够大，或者关注点的分离足够清晰，以证明正确所需的额外开发时间以及与维护多线程代
码相关的额外成本是合理的，否则不要使用并发。

使用并发也具有如下问题：

1. 获得的性能增益可能不如预期。启动线程有一个固有的开销，因为操作系统必须分配相关的内核资源和堆栈空间，然后将新线程添加到调度程序，所有这些都需要时间。

2. 线程资源有限。如果一次跑太多线程，可能耗尽OS资源。

3. 越多线程运行，越多的上下文切换会被执行。这个能降低应用程序的性能

虽然并发有这么多问题，但均有相应的解决方案，且现在是一个多核时代，是一个并发时代，掌握并发编程技巧是很值得的。

# 总结

关于并发概念部分，总结完毕。此后便进入C++并发编程的世界。
